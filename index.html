<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Promotion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background: linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.7)),
                        url('background.png') no-repeat center center fixed;
            background-size: cover;
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 90%;
            margin: 0 auto;
            padding: 2rem;
            backdrop-filter: blur(5px);
        }

        .book-section {
            display: flex;
            gap: 2rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            box-sizing: border-box
        }

        .book-image {
            flex: 1;
            align-items: center;
            display: flex;
            justify-content: center;

        }

        .book-image img {
            width: auto;
            height:auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            max-height: 80vh;
            max-width: 30vw;
            align-self: center;
        }

        .book-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: white;
            margin-bottom: 1rem;
            font-size: calc(1.25vw + 1.25vh);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: calc(.5vw + 0.8vh);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .order-button {
            background-color: #4299e1;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        

        .order-button:hover {
            background-color: #2b6cb0;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
        }
        
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            position: relative;
            color: black;
        }
        
        .close {
            position: absolute;
            right: 20px;
            top: 10px;
            font-size: 28px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .hidden {
            display: none;
        }

        /* Responsive design */
        @media (max-width: 800px) {
            .book-section {
                flex-direction: column;
                padding: 1rem;
            }

            .book-image img {
                max-width: 100%;
            }

            h1 {
                font-size: 2rem;
                text-align: center;
            }

            p {
                font-size: 0.8rem;
            }

            .container {
                padding: 1rem;
            }
        }
        @media (max-width: 300px) {
            h1 {
                font-size: 1.5rem;
            }
            p {
                font-size: 0.8rem;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="book-section">
            <div class="book-image">
                <img src="cover.png" alt="Book Cover">
            </div>
            <div class="book-details">
                <h1>My Life in the Quarter</h1>
                <p>Armand is a first time author who writes about his being born and raised in the 1950s in this
                    unique place called the French Quarter in New Orleans. He has a lifetime passion for reading,
                    writing and the Quarter. His passion was nurtured in his Senior English class at Cor Jesu High
                    School by Brother Colin, SC. He writes about the Quarter because you may leave the Quarter,
                    but the Quarter never leaves you</p>
                <p>This 12 x 12 area in New Orleans goes by many names: the Vieux Carré, the Old Square in English, the French Quarter, or as we natives call it the Quarter. No matter what you call it you will always find characters, and I do mean characters. In the Quarter you will also find diversity, tolerance, and a celebratory spirit. You will meet Ruthie the Duck Lady and her trained ducks, Richard Simmons the exercise guru, Angelo Brocato’s legendary gelato, the Cupid Doll Linda Brigette, Cosimo Matassa who recorded a number of  legends such as Fats Domino, Father Thomas the terminator, and many more. Look for Dan, the original neighborhood watch man, my landlord Henriette DeLille, and Jacques St. Germain, a legendary vampire. If you have ever visited the Quarter I am sure you have your own stories. If you have never visited, put it on your bucket list and live your own stories. I invite you to join me in sharing my journey and you will find mystery, merriment, and memories of the French Quarter in the 1950s.</p>
                <button class="order-button" onclick="openCheckout()">Order Now</button>
            </div>
        </div>
    </div>

    <!-- Original content -->
<div id="checkoutModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeCheckout()">&times;</span>
      <h2>Checkout</h2>
      
      <form id="orderForm" onsubmit="handleSubmit(event)" class="space-y-4">
        <div class="form-group">
          <label for="name" class="block mb-1">Full Name:</label>
          <input type="text" id="name" name="name" required 
                 class="w-full p-2 border rounded">
        </div>
        
        <div class="form-group">
          <label for="email" class="block mb-1">Email:</label>
          <input type="email" id="email" name="email" required 
                 class="w-full p-2 border rounded">
        </div>
        
        <div class="form-group">
          <label for="phone" class="block mb-1">Phone Number:</label>
          <input type="tel" id="phone" name="phone" required 
                 class="w-full p-2 border rounded">
        </div>
        
        <div class="form-group">
          <label for="address" class="block mb-1">Shipping Address:</label>
          <textarea id="address" name="address" required 
                    class="w-full p-2 border rounded" rows="3"></textarea>
        </div>
        
        <div class="form-group">
          <button type="submit" 
                  class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
            Place Order
          </button>
        </div>
        
        <div id="orderStatus" class="hidden text-center p-4"></div>
      </form>
    </div>
  </div>
  
  <script>
  function openCheckout() {
    document.getElementById('checkoutModal').style.display = 'block';
  }
  
  function closeCheckout() {
    document.getElementById('checkoutModal').style.display = 'none';
  }
  
  async function handleSubmit(event) {
    event.preventDefault();
    
    const form = event.target;
    const statusDiv = document.getElementById('orderStatus');
    const submitButton = form.querySelector('button[type="submit"]');
    
    // Disable the submit button and show loading state
    submitButton.disabled = true;
    submitButton.textContent = 'Processing...';
    
    // Prepare the form data
    const formData = {
      name: form.name.value,
      email: form.email.value,
      phone: form.phone.value,
      address: form.address.value,
      timestamp: new Date().toISOString()
    };
  
    try {
      // Replace this URL with your Google Apps Script web app URL
      const scriptUrl = 'https://script.google.com/macros/s/AKfycbwwDgr4l_6Y6ZZzLhWIKFfdLzQq_laxp_KEbP4NF9C4lpTpTvsnUe_rv-0N3s1KP-4b2Q/exec';
      
      // Create a URL-encoded string of parameters
      const queryString = Object.keys(formData)
        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(formData[key])}`)
        .join('&');
      
      // Append parameters to URL
      const fullUrl = `${scriptUrl}?${queryString}`;
      
      // Make request using JSONP approach
      const response = await new Promise((resolve, reject) => {
        // Create a temporary callback function
        const callbackName = 'callback_' + Math.random().toString(36).substr(2, 9);
        window[callbackName] = function(response) {
          delete window[callbackName];
          document.head.removeChild(script);
          resolve(response);
        };
        
        // Create script element
        const script = document.createElement('script');
        script.src = `${fullUrl}&callback=${callbackName}`;
        script.onerror = () => {
          delete window[callbackName];
          document.head.removeChild(script);
          reject(new Error('Script loading failed'));
        };
        
        document.head.appendChild(script);
      });
  
      statusDiv.textContent = 'Order placed successfully! Thank you.';
      statusDiv.className = 'text-green-600 p-4';
      form.reset();
      setTimeout(closeCheckout, 3000);
      
    } catch (error) {
      console.error('Submission error:', error);
      statusDiv.textContent = 'Error submitting order. Please try again.';
      statusDiv.className = 'text-red-600 p-4';
    } finally {
      submitButton.disabled = false;
      submitButton.textContent = 'Place Order';
      statusDiv.classList.remove('hidden');
    }
  }
  
  // Close modal when clicking outside
  window.onclick = function(event) {
    const modal = document.getElementById('checkoutModal');
    if (event.target === modal) {
      closeCheckout();
    }
  }
  </script>

</body>
</html>